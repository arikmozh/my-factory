{"ast":null,"code":"var _jsxFileName = \"/Users/arikmoz/Desktop/Bootcamp/Projects/my-factory-v1/src/Pages/EditDepartmentPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport departmentUtils from \"../Utils/departmentUtils\";\nimport employeesUtils from \"../Utils/employeesUtils\";\nimport { Typography, Button, TextField, MenuItem, Select, FormControl, InputLabel, ButtonGroup } from \"@mui/material\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditDepartmentPage = () => {\n  _s();\n\n  const storeData = useSelector(state => state);\n  let token = sessionStorage[\"token\"];\n  const params = useParams();\n  const [dep, setDep] = useState({});\n  const [emp, setEmp] = useState([]);\n  const [empNotInDep, setEmpNotInDep] = useState([]);\n  const [depNameError, setDepNameError] = useState(false);\n  const [e_id_toAdd, setE_id_toAdd] = useState(\"\");\n  useEffect(() => {\n    let all_db_data = storeData.db;\n    let d = all_db_data.departments.filter(x => x.Name == params.dName);\n\n    if (d.length > 0) {\n      setDep(d[0]);\n    }\n\n    let e = all_db_data.employees;\n    setEmp(e);\n    let employeesNotInThisDep = [];\n    let A = e.map(x => x.hasOwnProperty(\"DepartmentId\"));\n\n    for (let i = 0; i < A.length; i++) {\n      if (A[i] == true) {\n        for (let j = 0; j < e[i].DepartmentId.length; j++) {\n          if (e[i].DepartmentId[j].Name != d[0].Name) {\n            employeesNotInThisDep.push(e[i]);\n          }\n        }\n      } else {\n        employeesNotInThisDep.push(e[i]);\n      }\n    }\n\n    setEmpNotInDep(employeesNotInThisDep);\n    console.log(employeesNotInThisDep);\n    console.log(e);\n    console.log(d[0]);\n  }, []);\n\n  const handleChange = e => {\n    setDep({ ...dep,\n      Manager: e.target.value\n    });\n  };\n\n  const handleChange2 = e => {\n    setE_id_toAdd(e.target.value);\n  };\n\n  const DeleteDep = async () => {\n    await departmentUtils.delete_department(dep._id, token);\n  };\n\n  const UpdateDep = async () => {\n    await departmentUtils.update_department(token, dep._id, dep);\n  };\n\n  const allocateEmp = async () => {\n    await employeesUtils.add_department_to_employee(token, e_id_toAdd, dep._id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      pb: 2,\n      color: \"primary.second\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \" Edit Department\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: \" Department name:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      type: \"text\",\n      id: \"outlined-basic\",\n      variant: \"outlined\",\n      fullWidth: true,\n      value: dep.Name,\n      required: true,\n      onChange: e => setDep({ ...dep,\n        Name: e.target.value\n      }),\n      sx: {\n        mb: 3\n      },\n      error: depNameError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(FormControl, {\n      sx: {\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"demo-simple-select-label\",\n        children: \"Choose Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\" // value={{depManager}}\n        // value={newDep.Manager}\n        ,\n        label: \"Choose Manager\",\n        onChange: handleChange,\n        fullWidth: true,\n        children: emp === null || emp === void 0 ? void 0 : emp.map((item, index) => {\n          if (item._id == dep.Manager) {\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: item._id,\n              selected: true,\n              children: [item.FirstName, \" \", item.LastName]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: item._id,\n              children: [item.FirstName, \" \", item.LastName]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n      id: \"demo-simple-select-label\",\n      sx: {\n        mt: 1\n      },\n      children: \"Allocate selected Employee\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\" // value={{depManager}}\n      // value={newDep.Manager}\n      ,\n      label: \"Choose Manager\",\n      onChange: handleChange2,\n      fullWidth: true,\n      children: empNotInDep.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: item._id,\n          children: [item.FirstName, \" \", item.LastName]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(Button // type=\"submit\"\n      , {\n        variant: \"contained\",\n        onClick: UpdateDep,\n        endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 20\n        }, this),\n        sx: {\n          m: 1\n        },\n        children: \"UPDATE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button // type=\"submit\"\n      , {\n        variant: \"contained\",\n        onClick: DeleteDep,\n        startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 22\n        }, this),\n        sx: {\n          m: 1\n        },\n        children: \"DELETE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button // type=\"submit\"\n      , {\n        variant: \"contained\",\n        onClick: allocateEmp,\n        sx: {\n          m: 1\n        },\n        children: \"Allocate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditDepartmentPage, \"di6cT3ZtV2ESFGVvsejefmHvI+M=\", false, function () {\n  return [useSelector, useParams];\n});\n\n_c = EditDepartmentPage;\nexport default EditDepartmentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditDepartmentPage\");","map":{"version":3,"sources":["/Users/arikmoz/Desktop/Bootcamp/Projects/my-factory-v1/src/Pages/EditDepartmentPage.js"],"names":["React","useSelector","useParams","useEffect","useState","departmentUtils","employeesUtils","Typography","Button","TextField","MenuItem","Select","FormControl","InputLabel","ButtonGroup","DeleteIcon","SendIcon","EditDepartmentPage","storeData","state","token","sessionStorage","params","dep","setDep","emp","setEmp","empNotInDep","setEmpNotInDep","depNameError","setDepNameError","e_id_toAdd","setE_id_toAdd","all_db_data","db","d","departments","filter","x","Name","dName","length","e","employees","employeesNotInThisDep","A","map","hasOwnProperty","i","j","DepartmentId","push","console","log","handleChange","Manager","target","value","handleChange2","DeleteDep","delete_department","_id","UpdateDep","update_department","allocateEmp","add_department_to_employee","mb","width","item","index","FirstName","LastName","mt","m"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport departmentUtils from \"../Utils/departmentUtils\";\nimport employeesUtils from \"../Utils/employeesUtils\";\nimport {\n  Typography,\n  Button,\n  TextField,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  ButtonGroup,\n} from \"@mui/material\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SendIcon from \"@mui/icons-material/Send\";\n\nconst EditDepartmentPage = () => {\n  const storeData = useSelector((state) => state);\n  let token = sessionStorage[\"token\"];\n  const params = useParams();\n  const [dep, setDep] = useState({});\n  const [emp, setEmp] = useState([]);\n  const [empNotInDep, setEmpNotInDep] = useState([]);\n  const [depNameError, setDepNameError] = useState(false);\n  const [e_id_toAdd, setE_id_toAdd] = useState(\"\");\n\n  useEffect(() => {\n    let all_db_data = storeData.db;\n\n    let d = all_db_data.departments.filter((x) => x.Name == params.dName);\n    if (d.length > 0) {\n      setDep(d[0]);\n    }\n\n    let e = all_db_data.employees;\n    setEmp(e);\n\n    let employeesNotInThisDep = [];\n\n    let A = e.map((x) => x.hasOwnProperty(\"DepartmentId\"));\n    for (let i = 0; i < A.length; i++) {\n      if (A[i] == true) {\n        for (let j = 0; j < e[i].DepartmentId.length; j++) {\n          if (e[i].DepartmentId[j].Name != d[0].Name) {\n            employeesNotInThisDep.push(e[i]);\n          }\n        }\n      } else {\n        employeesNotInThisDep.push(e[i]);\n      }\n    }\n    setEmpNotInDep(employeesNotInThisDep);\n    console.log(employeesNotInThisDep);\n\n    console.log(e);\n    console.log(d[0]);\n  }, []);\n\n  const handleChange = (e) => {\n    setDep({ ...dep, Manager: e.target.value });\n  };\n  const handleChange2 = (e) => {\n    setE_id_toAdd(e.target.value);\n  };\n\n  const DeleteDep = async () => {\n    await departmentUtils.delete_department(dep._id, token);\n  };\n  const UpdateDep = async () => {\n    await departmentUtils.update_department(token, dep._id, dep);\n  };\n  const allocateEmp = async () => {\n    await employeesUtils.add_department_to_employee(token, e_id_toAdd, dep._id);\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h4\" pb={2} color=\"primary.second\">\n        <b> Edit Department</b>\n      </Typography>\n      <Typography> Department name:</Typography>\n      <TextField\n        type=\"text\"\n        id=\"outlined-basic\"\n        variant=\"outlined\"\n        fullWidth\n        value={dep.Name}\n        required\n        onChange={(e) => setDep({ ...dep, Name: e.target.value })}\n        sx={{ mb: 3 }}\n        error={depNameError}\n      />{\" \"}\n      <FormControl sx={{ width: \"100%\" }}>\n        <InputLabel id=\"demo-simple-select-label\">Choose Manager</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          // value={{depManager}}\n          // value={newDep.Manager}\n          label=\"Choose Manager\"\n          onChange={handleChange}\n          fullWidth\n        >\n          {emp?.map((item, index) => {\n            if (item._id == dep.Manager) {\n              return (\n                <MenuItem key={index} value={item._id} selected>\n                  {item.FirstName} {item.LastName}\n                </MenuItem>\n              );\n            } else {\n              return (\n                <MenuItem key={index} value={item._id}>\n                  {item.FirstName} {item.LastName}\n                </MenuItem>\n              );\n            }\n          })}\n        </Select>\n      </FormControl>\n      {/* <input type=\"button\" value=\"Update\" onClick={UpdateDep} />\n      <input type=\"button\" value=\"Delete\" onClick={DeleteDep} />\n      <br /> <br /> */}\n      <br />\n      <InputLabel id=\"demo-simple-select-label\" sx={{ mt: 1 }}>\n        Allocate selected Employee\n      </InputLabel>\n      <Select\n        labelId=\"demo-simple-select-label\"\n        id=\"demo-simple-select\"\n        // value={{depManager}}\n        // value={newDep.Manager}\n        label=\"Choose Manager\"\n        onChange={handleChange2}\n        fullWidth\n      >\n        {empNotInDep.map((item, index) => {\n          return (\n            <MenuItem key={index} value={item._id}>\n              {item.FirstName} {item.LastName}\n            </MenuItem>\n          );\n        })}\n      </Select>\n      <ButtonGroup fullWidth>\n        <Button\n          // type=\"submit\"\n          variant=\"contained\"\n          onClick={UpdateDep}\n          endIcon={<SendIcon />}\n          sx={{ m: 1 }}\n        >\n          UPDATE\n        </Button>\n        <Button\n          // type=\"submit\"\n          variant=\"contained\"\n          onClick={DeleteDep}\n          startIcon={<DeleteIcon />}\n          sx={{ m: 1 }}\n        >\n          DELETE\n        </Button>\n        <Button\n          // type=\"submit\"\n          variant=\"contained\"\n          onClick={allocateEmp}\n          sx={{ m: 1 }}\n        >\n          Allocate\n        </Button>\n      </ButtonGroup>\n    </div>\n  );\n};\n\nexport default EditDepartmentPage;\n"]},"metadata":{},"sourceType":"module"}