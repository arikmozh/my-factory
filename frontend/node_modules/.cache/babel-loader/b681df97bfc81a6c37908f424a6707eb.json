{"ast":null,"code":"var _jsxFileName = \"/Users/arikmoz/Desktop/Bootcamp/Projects/my-factory-v1/src/Pages/EditDepartmentPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { Typography, Button, TextField, MenuItem, Select, FormControl, InputLabel } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditDepartmentPage = () => {\n  _s();\n\n  const storeData = useSelector(state => state);\n  let token = sessionStorage[\"token\"];\n  const params = useParams();\n  const [dep, setDep] = useState({});\n  const [emp, setEmp] = useState([]);\n  const [empNotInDep, setEmpNotInDep] = useState([]);\n  const [depNameError, setDepNameError] = useState(false);\n  useEffect(() => {\n    let all_db_data = storeData.db;\n    let d = all_db_data.departments.filter(x => x.Name == params.dName);\n\n    if (d.length > 0) {\n      setDep(d[0]);\n    }\n\n    let e = all_db_data.employees;\n    setEmp(e);\n    let employeesNotInThisDep = [];\n    let A = e.map(x => x.hasOwnProperty(\"DepartmentId\"));\n\n    for (let i = 0; i < A.length; i++) {\n      if (A[i] == true) {\n        for (let j = 0; j < e[i].DepartmentId.length; j++) {\n          if (e[i].DepartmentId[j].Name != d[0].Name) {\n            employeesNotInThisDep.push(e[i]);\n          }\n        }\n      } else {\n        employeesNotInThisDep.push(e[i]);\n      }\n    }\n\n    setEmpNotInDep(employeesNotInThisDep);\n    console.log(employeesNotInThisDep);\n    console.log(e);\n    console.log(d[0]);\n  });\n\n  const handleChange = () => {};\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      pb: 2,\n      color: \"primary.second\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \" EmployeePage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      id: \"outlined-basic\",\n      label: \"Department name\",\n      variant: \"outlined\",\n      fullWidth: true,\n      required: true,\n      onChange: e => setDep({ ...dep,\n        Name: e.target.value\n      }),\n      sx: {\n        mb: 3\n      },\n      error: depNameError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(FormControl, {\n      sx: {\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"demo-simple-select-label\",\n        children: \"Choose Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\" // value={{depManager}}\n        // value={newDep.Manager}\n        ,\n        label: \"Choose Manager\",\n        onChange: handleChange,\n        fullWidth: true,\n        children: emp === null || emp === void 0 ? void 0 : emp.map((item, index) => {\n          if (item._id == dep.Manager) {\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: item._id,\n              selected: true,\n              children: [item.FirstName, \" \", item.LastName]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: item._id,\n              children: [item.FirstName, \" \", item.LastName]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditDepartmentPage, \"1k3puptaxYlfEXqQf6tNm+WaWZ4=\", false, function () {\n  return [useSelector, useParams];\n});\n\n_c = EditDepartmentPage;\nexport default EditDepartmentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditDepartmentPage\");","map":{"version":3,"sources":["/Users/arikmoz/Desktop/Bootcamp/Projects/my-factory-v1/src/Pages/EditDepartmentPage.js"],"names":["React","useSelector","useParams","useEffect","useState","Typography","Button","TextField","MenuItem","Select","FormControl","InputLabel","EditDepartmentPage","storeData","state","token","sessionStorage","params","dep","setDep","emp","setEmp","empNotInDep","setEmpNotInDep","depNameError","setDepNameError","all_db_data","db","d","departments","filter","x","Name","dName","length","e","employees","employeesNotInThisDep","A","map","hasOwnProperty","i","j","DepartmentId","push","console","log","handleChange","target","value","mb","width","item","index","_id","Manager","FirstName","LastName"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Button,\n  TextField,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n} from \"@mui/material\";\n\nconst EditDepartmentPage = () => {\n  const storeData = useSelector((state) => state);\n  let token = sessionStorage[\"token\"];\n  const params = useParams();\n  const [dep, setDep] = useState({});\n  const [emp, setEmp] = useState([]);\n  const [empNotInDep, setEmpNotInDep] = useState([]);\n  const [depNameError, setDepNameError] = useState(false);\n  useEffect(() => {\n    let all_db_data = storeData.db;\n\n    let d = all_db_data.departments.filter((x) => x.Name == params.dName);\n    if (d.length > 0) {\n      setDep(d[0]);\n    }\n\n    let e = all_db_data.employees;\n    setEmp(e);\n\n    let employeesNotInThisDep = [];\n\n    let A = e.map((x) => x.hasOwnProperty(\"DepartmentId\"));\n    for (let i = 0; i < A.length; i++) {\n      if (A[i] == true) {\n        for (let j = 0; j < e[i].DepartmentId.length; j++) {\n          if (e[i].DepartmentId[j].Name != d[0].Name) {\n            employeesNotInThisDep.push(e[i]);\n          }\n        }\n      } else {\n        employeesNotInThisDep.push(e[i]);\n      }\n    }\n    setEmpNotInDep(employeesNotInThisDep);\n    console.log(employeesNotInThisDep);\n\n    console.log(e);\n    console.log(d[0]);\n  });\n\n  const handleChange = () => {};\n\n  return (\n    <div>\n      <Typography variant=\"h4\" pb={2} color=\"primary.second\">\n        <b> EmployeePage</b>\n      </Typography>\n      <TextField\n        id=\"outlined-basic\"\n        label=\"Department name\"\n        variant=\"outlined\"\n        fullWidth\n        required\n        onChange={(e) => setDep({ ...dep, Name: e.target.value })}\n        sx={{ mb: 3 }}\n        error={depNameError}\n      />{\" \"}\n      <FormControl sx={{ width: \"100%\" }}>\n        <InputLabel id=\"demo-simple-select-label\">Choose Manager</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          // value={{depManager}}\n          // value={newDep.Manager}\n          label=\"Choose Manager\"\n          onChange={handleChange}\n          fullWidth\n        >\n          {emp?.map((item, index) => {\n            if (item._id == dep.Manager) {\n              return (\n                <MenuItem key={index} value={item._id} selected>\n                  {item.FirstName} {item.LastName}\n                </MenuItem>\n              );\n            } else {\n              return (\n                <MenuItem key={index} value={item._id}>\n                  {item.FirstName} {item.LastName}\n                </MenuItem>\n              );\n            }\n          })}\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default EditDepartmentPage;\n"]},"metadata":{},"sourceType":"module"}